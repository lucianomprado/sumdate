;(function(e){e.fn.sumdate=function(t){var r=new Array;var i=n["populaConfig"](t);e.each(this,function(){var n=e(this).val()||e(this).text();i.date=n;if(t.update){if(e(this).val()!=""){e(this).val(e.sumdate(i))}else{e(this).text(e.sumdate(i))}}else{r.push(e.sumdate(i))}});if(!t.update){return r}};e.sumdate=function(e){var t=n["populaConfig"](e);if(t.functions.length>0){for(var r=0;r<t.functions.length;r++){resultado=n[t.functions[r]](t)}}return resultado};var t=["D","M","Y","h","m","s"];var n={sum:function(t){try{var r=t.sumValues;var i=t.date;var s=t.pattern;var o=false;if(e.type(i)=="string"){i=n["stringToDate"](t);o=true}var u=t;var a=new Date(i.getTime());a.setMilliseconds(a.getMilliseconds()+r.milliseconds);a.setSeconds(a.getSeconds()+r.seconds);a.setMinutes(a.getMinutes()+r.minutes);a.setHours(a.getHours()+r.hours);a.setDate(a.getDate()+r.days);a.setMonth(a.getMonth()+r.months);a.setFullYear(a.getFullYear()+r.years);t.date=a;if(o){a=n["dateToString"](t)}return a}catch(f){console.log(f)}},stringToDate:function(t){try{var n=t.sumValues;var r=t.date;var i=t.pattern;if(e.type(r)=="date"){return r}var s=new Date(0);s.setHours(0);var o=new SplitDate(r,i);var u=o.getOrder();var a=o.getCharsSep();var f=0;var l=0;var c=0;var h=0;var p=0;var d=0;var v=0;var m=o.split();var g=m[1];var y=m[0];for(var b=0;b<i.length;b++){if(u.D==b){f=parseInt(g[v],10);v++}else if(u.M==b){l=parseInt(g[v],10)-1;v++}else if(u.Y==b){c=parseInt(g[v],10);v++}}s.setFullYear(c,l,f);if(y!=""){v=0;for(var b=0;b<i.length;b++){if(u.h==b){h=parseInt(y[v],10);v++}else if(u.m==b){p=parseInt(y[v],10);v++}else if(u.ss==b){d=parseInt(y[v],10);v++}}s.setHours(h);s.setMinutes(p);s.setSeconds(d)}return s}catch(w){console.log(w);return undefined}},dateToString:function(t){try{var n=t.sumValues;var r=t.date;var i=t.pattern;if(e.type(r)=="string"){return r}var s=new Array;var o=new String;var u=new SplitDate("",i);var a=u.getOrder();var f=u.getCharsSep();var l=0;var c=0;for(var h=0;h<i.length;h++){if(a.D==h){if(r.getDate()<10){o+="0"}o+=r.getDate();if(l<2){o+=f.date}l++}else if(a.M==h){if(r.getMonth()<10){o+="0"}o+=r.getMonth()+1;if(l<2){o+=f.date}l++}else if(a.Y==h){o+=r.getFullYear();if(l<2){o+=f.date}l++}if(a.h==h){if(r.getHours()<10){o+="0"}o+=r.getHours();if(c<2){o+=f.time}c++}else if(a.m==h){if(r.getMinutes()<10){o+="0"}o+=r.getMinutes();if(c<2){o+=f.time}c++}else if(a.ss==h){if(r.getSeconds()<10){o+="0"}o+=r.getSeconds();if(c<2){o+=f.time}c++}if(f.divDT!="null"&&l==3^c==3){o+=f.divDT;f.divDT="null"}}return o}catch(p){console.log(p);return undefined}},validate:function(t){var r=t.date;var i=t.pattern;if(e.type(r)!="string"){return false}var s=n["getPos"](i);var o=n["charsSeps"](i,s);var u=n["stringToDate"](t);if(r==""){return true}var a=r.split(o);if(a.length/3==0){return false}for(var f=0;f<6;f++){if(s.D==f&&u.getDate()!=parseInt(a[f])){return false}else if(s[f]=="M"&&u.getMonth()+1!=parseInt(a[f])){return false}else if(s[f]=="Y"&&u.getFullYear()!=parseInt(a[f])){return false}}return true},between:function(t){var r=t.date;var i=t.anotherDate;if(e.type(r)=="string"){r=n["stringToDate"](t)}if(e.type(i)=="string"){var s=t;s.date=i;i=n["stringToDate"](s)}var o=i.getTime()-r.getTime();o=o<0?o*-1:o;var u=new Date(o);var a={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0};a.years=u.getUTCFullYear()-1970;a.months=u.getUTCMonth();a.days=u.getUTCDate()-1;a.hours=u.getUTCHours();a.minutes=u.getUTCMinutes();a.milliseconds=u.getUTCMilliseconds();return a},getPos:function(e){try{var t={D:-1,M:-1,Y:-1,Y:-1,h:-1,m:-1,ss:-1};t.D=e.indexOf("DD");t.M=e.indexOf("MM");t.Y=e.indexOf("YYYY");t.h=e.indexOf("hh");t.m=e.indexOf("mm");t.ss=e.indexOf("ss");return t}catch(n){console.log(n);return undefined}},charsSeps:function(t,n){var r="";var i="";var s=null;var o=0;var u=0;if(n.D>0||n.M>0){if(n.D<n.Y){r=t.substr(n.D+2,1);if(n.Y>n.M){o=n.Y}else{o=n.M}}else{r=t.substr(n.Y+4,1);if(n.D>n.M){o=n.D}else{o=n.M}}}if(n.h>0||n.m>0){if(n.h<n.m){i=t.substr(n.h+2,1);if(n.h>n.ss){u=n.ss}else{u=n.h}}else{i=t.substr(n.m+2,1);if(n.m>n.ss){u=n.ss}else{u=n.m}}}if(o>0&&u>0){if(o>u){s=t.substr(o-1,1)}else{s=t.substr(u-1,1)}}var a='{ "date": "'+r+'", "time": "'+i+'", "divDT": "'+s+'"}';return e.parseJSON(a)},populaConfig:function(t){var n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0};var r={date:"",anotherDate:"",sumValues:{},functions:["sum"],pattern:"DD/MM/YYYY"};if(t.sumValues){e.extend(n,t.sumValues)}t.sumValues=n;if(t){e.extend(r,t)}return r}};SplitDate=function(e,t){var r=e;var i=n["getPos"](t);var s=n["charsSeps"](t,i);this.getOrder=function(){return i};this.getCharsSep=function(){return s};this.split=function(){var e="";var t="";if(s.divDT!="null"){if(i.h>i.Y){e=r.split(s.divDT)[0].split(s.date);t=r.split(s.divDT)[1].split(s.time)}else{e=r.split(s.divDT)[1].split(s.date);t=r.split(s.divDT)[0].split(s.time)}}else{if(s.date!=""){e=r.split(s.date)}else{t=r.split(s.time)}}return[t,e]}}})(jQuery)